.\" Copyright (c) 1992 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" %sccs.include.redist.man%
.\"
.\"     @(#)kvm_nlist.3	5.1 (Berkeley) %G%
.\"
.Dd 
.Dt KVM_NLIST 3
.Os
.Sh NAME
.Nm kvm_nlist 
.Nd retrieve symbol table names from a kernel image
.Sh SYNOPSIS
.Fd #include <kvm.h>
.Fd #include <nlist.h>
.br
.Ft int
.Fn kvm_nlist "kvm_t *kd" "struct nlist *nl"
.Sh DESCRIPTION
.Fn kvm_nlist
retrieves the symbol table entries indicated by the name list argument
.Fa nl .
This argument points to an array of nlist structures, terminated by
an entry whose n_name field is NULL (see 
.Xr nlist 3 ).
For each symbol is looked up using the n_name field, and if found, the
corresponding n_type and n_value fields are filled in.  These fields are set
to 0 if the symbol is not found.
.Pp
The program 
.Fn kvm_mkdb
builds a database from the running kernel's namelist.
If the database matches the opened kernel,
.Fn kvm_nlist
uses it to speed name to value calculations.
.Sh RETURN VALUES
.Fn kvm_nlist
returns the number of invalid entries found.
If the kernel symbol table was unreadable, -1 is returned.
.Sh FILES
/var/run/kvm_vmunix.{dir,pag}
.Sh SEE ALSO
.Xr kvm 3
.Xr kvm_mkdb 8
