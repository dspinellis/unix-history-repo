.\" Copyright (c) 1989, 1991 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" %sccs.include.redist.man%
.\"
.\"     @(#)getloadavg.3	6.3 (Berkeley) %G%
.\"
.Dd 
.Dt GETLOADAVG 3
.Os
.Sh NAME
.Nm getloadavg
.Nd get system load averages
.Sh SYNOPSIS
.Fn getloadavg "double loadavg[]" "int nelem"
.Sh DESCRIPTION
The
.Fn getloadavg
function
returns the number of processes in the system run queue
averaged over various periods of time.  Up to
.Fa nelem
samples are retrieved and assigned to successive elements of
.Fa loadavg Ns Bq .
The system imposes a maximum of 3 samples, representing averages
over the last 1, 5, and 15 minutes, respectively.
.Sh DIAGNOSTICS
If the load average was unobtainable, \-1 is returned; otherwise,
the number of samples actually retrieved is returned.
.Sh SEE ALSO
.Xr uptime 1 ,
.Xr nlist 3 ,
.Xr kmem 4
.Sh HISTORY
The
.Fn getloadavg
function is
.Ud .
.Sh BUGS
Programs using this utility must have read permission on
.Pa /dev/kmem .
This restriction will eventually be lifted.
