.\" Copyright (c) 1993 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" %sccs.include.redist.roff%
.\"
.\"	@(#)sysctl.8	5.2 (Berkeley) %G%
.\"
.Dd ""
.Dt SYSCTL 8
.Os
.Sh NAME
.Nm sysctl
.Nd get or set kernel state
.Sh SYNOPSIS
.Nm sysctl
.Op Fl n
.Ar name ...
.Nm sysctl
.Op Fl n
.Fl w
.Ar name=value ...
.Nm sysctl
.Op Fl n
.Fl aA
.Sh DESCRIPTION
The
.Nm sysctl
utility retrieves kernel state and allows processes with
appropriate privilege to set kernel state.
The state to be retrieved or set is described using a
``Management Information Base'' (``MIB'') style name,
described as a dotted set of components.
The
.Fl a
flag can be used to list all the currently available string or integer values.
The
.Fl A
flag will list all the known MIB names including tables.
Those with string or integer values will be printed as with the
.Fl a
flag; for the table values,
the name of the utility to retrieve them is given.
.Pp
The
.Fl n
flag specifies that the printing of the field name should be
suppressed and that only its value should be output.
This flag is useful for setting shell variables.
For example, to save the pagesize in variable psize, use:
.Bd -literal -offset indent -compact
set psize=`sysctl -n hw.pagesize`
.Ed
.Pp
If just a MIB style name is given,
the corresponding value is retrieved.
If a value is to be set, the
.Fl w
flag must be specified and the MIB name followed
by an equal sign and the new value to be used.
.Pp
The information available from
.Nm sysctl
consists of integers, strings, and tables.
The tabular information can only be retrieved by special
purpose programs such as
.Nm ps ,
.Nm systat ,
and
.Nm netstat .
The string and integer information is detailed below.
The changeable column indicates whether a process with appropriate
privilege can change the value.
.Bl -column kern.posix1versionxx "integerxx"
.It Sy "Name  " "	Type  " "	Changeable"
.It Pa kern.ostype No "	string" No "	no"
.It Pa kern.osrelease No "	string" No "	no"
.It Pa kern.version No "	string" No "	no"
.It Pa kern.osrevision No "	integer" No "	no"
.It Pa kern.posix1version No "	integer" No "	no"
.It Pa kern.maxproc No "	integer" No "	yes"
.It Pa kern.maxfiles No "	integer" No "	yes"
.It Pa kern.argmax No "	integer" No "	no"
.It Pa kern.securelevel No "	integer" No "	raise only"
.It Pa kern.hostname No "	string" No "	yes"
.It Pa kern.hostid No "	integer" No "	yes"
.It Pa kern.clockrate No "	struct" No "	no"
.It Pa vm.loadavg No "	struct" No "	no"
.It Pa hw.machine No "	string" No "	no"
.It Pa hw.model No "	string" No "	no"
.It Pa hw.ncpu No "	integer" No "	no"
.It Pa hw.cpuspeed No "	integer" No "	no"
.It Pa hw.physmem No "	integer" No "	no"
.It Pa integer.usermem No "	integer" No "	no"
.It Pa hw.pagesize No "	integer" No "	no"
.El
.Sh EXAMPLES
.Pp
For example, to retrieve the maximum number of processes allowed
in the system, one would use the follow request:
.Bd -literal -offset indent -compact
sysctl kern.maxproc
.Ed
.Pp
To set the maximum number of processes allowed
in the system to 1000, one would use the follow request:
.Bd -literal -offset indent -compact
sysctl -w kern.maxproc=1000
.Ed
.Pp
Information about the system clock rate may be obtained with:
.Bd -literal -offset indent -compact
sysctl kern.clockrate
.Ed
.Pp
Information about the load average history may be obtained with
.Bd -literal -offset indent -compact
sysctl vm.loadavg
.Ed
.Sh FILES
.Bl -tag -width <vm/vm_param.h> -compact
.It Pa <sys/sysctl.h>
definitions for top level identifiers and second level kernel
and hardware identifiers
.It Pa <sys/socket.h>
definitions for second level network identifiers
.It Pa <vm/vm_param.h>
definitions for second level virtual memory identifiers
.El
.Sh SEE ALSO
.Xr sysctl 2
.Sh HISTORY
.Nm sysctl
first appeared in 4.4BSD.
